<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contact Us - M.A. & COMPANY</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<link rel="stylesheet" href="style.css">

</head>

<body>

<header>
    <div class="container">
        <nav>
            <a href="index.html" class="logo">M.A. <span>& COMPANY</span></a>
            <ul class="nav-links" id="navLinks">
                <li><a href="index.html">Home</a></li>
                
                <li class="has-dropdown">
                    <a href="#">Products <i class="fas fa-chevron-down" style="font-size: 0.8em; margin-left: 5px;"></i></a>
                    
                    <ul class="dropdown-menu">
                        
                        <li class="dropdown-item">
                            <a href="#">Industrial & Commercial <i class="fas fa-chevron-right" style="font-size: 0.8em;"></i></a>
                            
                            <div class="submenu">
                                <div class="has-submenu">
                                    <a href="New-Jersey-&-Knit-Wipers.html">New Industrial Rags <i class="fas fa-chevron-right" style="font-size: 0.8em;"></i></a>
                                    <div class="submenu">
                                        <a href="New-Jersey-&-Knit-Wipers.html#product4">New unwashed knit rags (Raw)</a>
                                      <a href="New-Jersey-&-Knit-Wipers.html#product6">Heather Grey Mix (Raw)</a>
                                    <a href="New-Jersey-&-Knit-Wipers.html#product8">White Mix (Raw)</a>
                                        <a href="New-Jersey-&-Knit-Wipers.html#product10">White Mix (Bleached)</a>
                                    <a href="New-Jersey-&-Knit-Wipers.html#product12">Bright White Mix</a>
                                        <a href="New-Jersey-&-Knit-Wipers.html#product13">White Hand Size</a>
                                        <a href="New-Jersey-&-Knit-Wipers.html#product14">White Die Cut</a>
                                        <a href="New-Jersey-&-Knit-Wipers.html#product15">Grey Smooth (Washed)</a>
                                        <a href="New-Jersey-&-Knit-Wipers.html#product20">Mixed Color Mix</a>
                                        <a href="New-Jersey-&-Knit-Wipers.html#product21">Heavyweight Fleece</a>
                                        <a href="New-Jersey-&-Knit-Wipers.html#product22">White Smooth Jersey</a>
                                    </div>
                                </div>

                                <div class="has-submenu">
                                    <a href="reclaimed-rags.html">Reclaimed Rags <i class="fas fa-chevron-right" style="font-size: 0.8em;"></i></a>
                                    <div class="submenu">
                                        <a href="reclaimed-rags.html#rec-white-knit">Reclaimed White Knit</a>
                                        <a href="reclaimed-rags.html#rec-color-knit">Reclaimed Color Knit</a>
                                        <a href="reclaimed-rags.html#rec-white-terry">Reclaimed White Terry</a>
                                        <a href="reclaimed-rags.html#rec-colored-terry">Reclaimed Colored Terry</a>
                                        <a href="reclaimed-rags.html#rec-white-sweat">Reclaimed White Sweatshirt</a>
                                        <a href="reclaimed-rags.html#rec-colored-sweat">Reclaimed Colored Sweatshirt</a>
                                    </div>
                                </div>

                                <div class="has-submenu">
                                    <a href="specialty-wipers.html">Specialty Wipers <i class="fas fa-chevron-right" style="font-size: 0.8em;"></i></a>
                                    <div class="submenu">
                                        <a href="specialty-wipers.html#cheese-cloth">Cheese Cloth</a>
                                        <a href="specialty-wipers.html#mutton-cloth">Mutton Cloth</a>
                                        <a href="specialty-wipers.html#shop-towel">Shop Towels</a>
                                        <a href="specialty-wipers.html#huck-towel">Huck Towels</a>
                                        <a href="specialty-wipers.html#thermal-rags">New Thermal Rags</a>
                                        <a href="specialty-wipers.html#flannel-rags">Flannel Rags</a>
                                    </div>
                                </div>

                                <div class="has-submenu">
                                    <a href="terry-rags.html">Terry Rags <i class="fas fa-chevron-right" style="font-size: 0.8em;"></i></a>
                                    <div class="submenu">
                                        <a href="terry-rags.html#half-towel">Half Towel</a>
                                        <a href="terry-rags.html#french-washed">French Terry Washed</a>
                                        <a href="terry-rags.html#french-unwashed">French Terry Unwashed</a>
                                    </div>
                                </div>

                                <div class="has-submenu">
                                    <a href="kitchen-bar-towel.html">Kitchen & Bar Towels <i class="fas fa-chevron-right" style="font-size: 0.8em;"></i></a>
                                    <div class="submenu">
                                        <a href="kitchen-bar-towel.html#std-bar-mop">Bar Mop (Std)</a>
                                        <a href="kitchen-bar-towel.html#econ-bar-mop">Economical Bar Mop</a>
                                        <a href="kitchen-bar-towel.html#stitched-bar-mop">Stitched Bar Mop</a>
                                        <a href="kitchen-bar-towel.html#herringbone">Herringbone Towel</a>
                                        <a href="kitchen-bar-towel.html#stitched-kitchen">Stitched Kitchen Towel</a>
                                    </div>
                                </div>
                            </div>
                        </li>

                        <li class="dropdown-item">
                            <a href="#">Institutional & Hospitality <i class="fas fa-chevron-right" style="font-size: 0.8em;"></i></a>
                            
                            <div class="submenu">
                                <div class="has-submenu">
                                    <a href="healthcare-textiles.html">Healthcare & Medical <i class="fas fa-chevron-right" style="font-size: 0.8em;"></i></a>
                                    <div class="submenu">
                                        <a href="healthcare-textiles.html#fitted-hosiery">Fitted Hosiery Sheets</a>
                                        <a href="healthcare-textiles.html#waterproof-sheet">Waterproof Sheets</a>
                                        <a href="healthcare-textiles.html#huck-towels">Huck Towels (Surgical)</a>
                                        <a href="healthcare-textiles.html#mattress-protector">Mattress Protectors</a>
                                    </div>
                                </div>

                                <div class="has-submenu">
                                    <a href="spa-wellness.html">Spa & Wellness <i class="fas fa-chevron-right" style="font-size: 0.8em;"></i></a>
                                    <div class="submenu">
                                        <a href="spa-wellness.html#spa-bedsheets">Spa Bedsheets</a>
                                        <a href="spa-wellness.html#spa-kits">Spa Kits</a>
                                    </div>
                                </div>

                                <div class="has-submenu">
                                    <a href="home-retail-bedding.html">Home & Retail Bedding <i class="fas fa-chevron-right" style="font-size: 0.8em;"></i></a>
                                    <div class="submenu">
                                        <a href="home-retail-bedding.html#cotton-bedsheets">Cotton Bedsheets</a>
                                        <a href="home-retail-bedding.html#linen-bedsheets">Linen Bedsheets</a>
                                        <a href="home-retail-bedding.html#retail-covers">Covers & Protectors</a>
                                        <a href="home-retail-bedding.html#bath-towels">General Bath Towels</a>
                                        <a href="home-retail-bedding.html#iron-stand">Iron Stand Cover</a>
                                    </div>
                                </div>
                            </div>
                        </li>

                        <li class="dropdown-item">
                            <a href="#">Apparel & Workwear <i class="fas fa-chevron-right" style="font-size: 0.8em;"></i></a>
                            
                            <div class="submenu">
                                <div class="has-submenu">
                                    <a href="casual-promotional-wear.html">Casual Wear <i class="fas fa-chevron-right" style="font-size: 0.8em;"></i></a>
                                    <div class="submenu">
                                        <a href="casual-promotional-wear.html#t-shirts">Promotional T-Shirts</a>
                                        <a href="casual-promotional-wear.html#trousers">Casual Trousers</a>
                                        <a href="casual-promotional-wear.html#jackets">Custom Jackets</a>
                                    </div>
                                </div>

                                <div class="has-submenu">
                                    <a href="industrial-accessories.html">Industrial Accessories <i class="fas fa-chevron-right" style="font-size: 0.8em;"></i></a>
                                    <div class="submenu">
                                        <a href="industrial-accessories.html#cotton-gloves">Cotton Work Gloves</a>
                                    </div>
                                </div>
                            </div>
                        </li>

                    </ul>
                </li>
                <li><a href="packing.html">Packing</a></li>
                <li><a href="index.html#gallery">Gallery</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="contact.html" class="btn btn-primary" style="padding:12px 34px;">Contact Us</a></li>
            </ul>
            <div class="hamburger" onclick="toggleMenu()"><i class="fas fa-bars"></i></div>
        </nav>
    </div>
</header>

<section class="contact-hero">
    <div class="container">
        <h1>Contact <span style="color: var(--highlight-gold);">Us</span></h1>
        <p>Get in touch with our sales team for bulk inquiries, custom orders, or product samples.</p>
    </div>
</section>

<div class="container">
    <div class="contact-wrapper">
        <form id="inquiryForm" onsubmit="handleFormSubmit(event)">
            
            <h3 class="form-section-title">Basic Details</h3>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="fullName">Full Name *</label>
                    <input type="text" id="fullName" name="fullName" placeholder="e.g. John Doe" required>
                </div>
                <div class="form-group">
                    <label for="company">Company & Designation</label>
                    <input type="text" id="company" name="company" placeholder="e.g. ABC Textiles, Manager">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="phone">Contact Number</label>
                    <input type="tel" id="phone" name="phone" placeholder="+1 234 567 8900">
                </div>
                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" placeholder="john@example.com" required>
                </div>
            </div>

            <h3 class="form-section-title" style="margin-top: 30px;">Your Inquiry</h3>

            <div class="form-group" style="margin-bottom: 25px;">
                <label for="productSearch">Product Names (Search & Select Multiple) *</label>
                
                <div class="selected-products-area" id="selectedProductsArea">
                    </div>

                <div class="product-search-container">
                    <input type="text" id="productSearch" placeholder="Type to search (e.g. 'White', 'Rags', 'Towel')..." autocomplete="off">
                    <div class="search-dropdown" id="searchDropdown">
                        </div>
                </div>
                <input type="hidden" id="finalProductList" name="finalProductList" required>
            </div>

            <div class="form-group" style="margin-bottom: 25px;">
                <label>Packing Type (Select all that apply)</label>
                <div class="packing-options">
                    
                    <label class="packing-card-label">
                        <input type="checkbox" name="packingType" value="Bale Pack" class="packing-radio">
                        <div class="packing-content">
                            <i class="fas fa-cubes"></i>
                            <span>Bale Pack</span>
                        </div>
                    </label>

                    <label class="packing-card-label">
                        <input type="checkbox" name="packingType" value="Palletized" class="packing-radio">
                        <div class="packing-content">
                            <i class="fas fa-pallet"></i>
                            <span>Palletized</span>
                        </div>
                    </label>

                    <label class="packing-card-label">
                        <input type="checkbox" name="packingType" value="Retail Packing" class="packing-radio">
                        <div class="packing-content">
                            <i class="fas fa-shopping-bag"></i>
                            <span>Retail Packing</span>
                        </div>
                    </label>

                </div>
            </div>

            <div class="form-group">
                <label for="message">Additional Details / Specific Requirements</label>
                <textarea id="message" name="message" rows="5" placeholder="Please mention GSM, quantity estimates, or port of delivery..."></textarea>
            </div>

            <div class="submit-container">
                <button type="submit" class="btn btn-primary submit-btn">
                    <i class="far fa-paper-plane" style="margin-right: 8px;"></i> Send Inquiry
                </button>
            </div>

        </form>
    </div>
</div>

<footer>
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col">
                <h4 style="font-size:1.5rem;">M.A. & COMPANY</h4>
                <p>Your trusted partner in textile recycling and industrial wiping exports.</p>
            </div>
            <div class="footer-col">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Contact Info</h4>
                <ul>
                    <li>Karachi, Pakistan</li>
                    <li>info@macompany.com</li>
                    <li>+92 300 1234567</li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>Â© 2024 M.A. & Company. All Rights Reserved.</p>
        </div>
    </div>
</footer>

<a href="#" class="whatsapp-float"><i class="fab fa-whatsapp"></i></a>

<script>
    // --- 1. Mobile Menu Toggle (From Index) ---
    function toggleMenu() {
        document.getElementById('navLinks').classList.toggle('active');
    }

    // NEW: Mobile Dropdown Interaction Logic
    document.addEventListener('DOMContentLoaded', function() {
        const dropdownToggles = document.querySelectorAll('.has-dropdown > a, .dropdown-item > a, .has-submenu > a');

        dropdownToggles.forEach(toggle => {
            toggle.addEventListener('click', function(e) {
                // Only activate on mobile/tablet (screens less than 1024px)
                if (window.innerWidth < 1024) {
                    // Prevent default link behavior if it's a submenu toggle
                    e.preventDefault();
                    
                    // Toggle the 'active' class on the parent list item (li) or div
                    this.parentElement.classList.toggle('active');
                    
                    // Optional: Close other siblings if needed
                    e.stopPropagation();
                }
            });
        });
    });

    // --- 2. Product Search & Selection Logic ---

    // Full Product List extracted from your menu
    const products = [
        "Reclaimed White Knit", "Reclaimed Color Knit", "Reclaimed White Terry", "Reclaimed Colored Terry",
        "Reclaimed White Sweatshirt", "Reclaimed Colored Sweatshirt",
        "Light Color Smooth (Raw)", "Light Color Mix (Raw)", "Dark Color Smooth (Raw)", "Dark Color Mix (Raw)",
        "Heather Grey Smooth (Raw)", "Heather Grey Mix (Raw)", "White Smooth (Raw)", "White Mix (Raw)",
        "White Smooth (Bleached)", "White Mix (Bleached)", "Bright White Smooth", "Bright White Mix",
        "White Hand Size", "White Die Cut",
        "Grey Smooth (Washed)", "Grey Mix (Washed)", "Heather Grey Mix (Washed)",
        "Mixed Color Smooth", "Mixed Color Mix", "Heavyweight Fleece",
        "Cheese Cloth", "Mutton Cloth", "Shop Towels", "Huck Towels", "New Thermal Rags", "Flannel Rags",
        "Half Towel", "French Terry Washed", "French Terry Unwashed",
        "Bar Mop (Std)", "Economical Bar Mop", "Stitched Bar Mop", "Herringbone Towel", "Stitched Kitchen Towel",
        "Fitted Hosiery Sheets", "Waterproof Sheets", "Huck Towels (Surgical)", "Mattress Protectors",
        "Spa Bedsheets", "Spa Kits",
        "Cotton Bedsheets", "Linen Bedsheets", "Retail Covers & Protectors", "General Bath Towels",
        "Promotional T-Shirts", "Casual Trousers", "Custom Jackets", "Cotton Work Gloves"
    ];

    const searchInput = document.getElementById('productSearch');
    const dropdown = document.getElementById('searchDropdown');
    const selectedArea = document.getElementById('selectedProductsArea');
    const hiddenInput = document.getElementById('finalProductList');

    let selectedProducts = [];

    // Filter Products
    searchInput.addEventListener('input', function() {
        const val = this.value.toLowerCase();
        dropdown.innerHTML = '';
        
        if (!val) {
            dropdown.classList.remove('active');
            return;
        }

        const matches = products.filter(p => p.toLowerCase().includes(val) && !selectedProducts.includes(p));

        if (matches.length > 0) {
            dropdown.classList.add('active');
            matches.forEach(item => {
                const div = document.createElement('div');
                div.className = 'search-item';
                div.textContent = item;
                div.onclick = () => addProduct(item);
                dropdown.appendChild(div);
            });
        } else {
            dropdown.classList.add('active');
            dropdown.innerHTML = '<div class="search-item no-results">No products found</div>';
        }
    });

    // Hide dropdown when clicking outside
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.product-search-container')) {
            dropdown.classList.remove('active');
        }
    });

    // Add Product to list
    function addProduct(name) {
        if (!selectedProducts.includes(name)) {
            selectedProducts.push(name);
            renderTags();
            updateHiddenInput();
        }
        searchInput.value = '';
        dropdown.classList.remove('active');
        searchInput.focus();
    }

    // Remove Product from list
    function removeProduct(name) {
        selectedProducts = selectedProducts.filter(p => p !== name);
        renderTags();
        updateHiddenInput();
    }

    // Render Tag Chips
    function renderTags() {
        selectedArea.innerHTML = '';
        selectedProducts.forEach(prod => {
            const chip = document.createElement('div');
            chip.className = 'product-chip';
            chip.innerHTML = `
                ${prod}
                <i class="fas fa-times" onclick="removeProduct('${prod}')"></i>
            `;
            selectedArea.appendChild(chip);
        });
    }

    // Update Hidden Input (for form submission)
    function updateHiddenInput() {
        hiddenInput.value = selectedProducts.join(', ');
    }


    // --- 3. Form Submission (Send to Google Sheet) ---
    function handleFormSubmit(e) {
        e.preventDefault();

        // 1. Validation for Products
        if(selectedProducts.length === 0) {
            alert("Please select at least one product.");
            return;
        }

        // 2. Prepare Button State (Loading)
        const btn = document.querySelector('.submit-btn');
        const originalText = btn.innerHTML;
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
        btn.disabled = true;

        // 3. Gather Data
        const form = document.getElementById('inquiryForm');
        const formData = new FormData(form);

        // -- Fix: Handle Packing Checkboxes manually --
        // Apps Script receives checkboxes as multiple parameters, but we want a single string.
        // We calculate the string here and append it to formData.
        const packingOptions = document.querySelectorAll('input[name="packingType"]:checked');
        const packingList = Array.from(packingOptions).map(cb => cb.value);
        const packingString = packingList.length > 0 ? packingList.join(', ') : "Not Specified";
        
        // Remove the default 'packingType' entries to avoid duplicates/confusion
        formData.delete('packingType'); 
        // Add our clean string version
        formData.append('packingType', packingString);

        // 4. Send to Google Apps Script
        // PASTE YOUR GOOGLE SCRIPT URL BELOW INSIDE THE QUOTES
        const scriptURL = 'https://script.google.com/macros/s/AKfycbywsqY7NHbmJcgURp3OAp3u77ptfe-MxJ-E89iZkLqHD0Mzfs_r374tAIJNz2T41qTV/exec'; 

        fetch(scriptURL, { method: 'POST', body: formData })
            .then(response => {
                // Reset Button
                btn.innerHTML = "<i class='fas fa-check'></i> Sent Successfully!";
                btn.style.backgroundColor = "#28a745";
                btn.style.borderColor = "#28a745";
                
                // Clear Form
                form.reset();
                selectedProducts = [];
                renderTags();
                updateHiddenInput();
                
                // Reset button after 3 seconds
                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                    btn.style.backgroundColor = ""; // Reset to CSS default
                    btn.style.borderColor = "";
                }, 3000);
            })
            .catch(error => {
                console.error('Error!', error.message);
                btn.innerHTML = "Error! Try Again.";
                btn.disabled = false;
            });
    }

</script>

</body>
</html>